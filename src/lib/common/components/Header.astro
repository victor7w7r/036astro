---
import Toggler from './Toggler.svelte';

import '@/common/styles/header.css';
---

<div class='flex items-center justify-center'>
  <nav id='navbar' class='navbar'>
    <div class='max-w-7xl mx-auto px-2 sm:px-6 lg:px-8'>
      <div class='flex items-center justify-between'>
        <div class='flex-1 flex items-stretch justify-start'>
          <div class='flex-shrink-0 flex items-center'>
            <img src='/favicon.svg' class='block h-8 w-auto mr-5' alt='' />
            <a href='/' class='-ml-2 font-medium adaptable-text'>
              Astro + TS Template
            </a>
          </div>
        </div>
        <div class='toggler-container'>
          <Toggler client:load />
        </div>
      </div>
    </div>
  </nav>
</div>

<script>
  import { define, useEffect } from 'hooked-elements';

  import { theme } from '@/common/stores';

  define('nav', (el: HTMLElement) =>
    useEffect(() => {
      el.className = `navbar ${theme.get().control}`;
      theme.subscribe(th =>
        el.className = `navbar ${th.control}`
      );
    })
  );
</script>